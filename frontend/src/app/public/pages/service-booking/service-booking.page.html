<div class="page-header">
  <h1>{{ 'public.serviceBooking.title' | transloco }}</h1>
  <p>Schedule workshop support in two quick steps.</p>
</div>

<div class="card-grid">
  <p-card>
    <ng-template pTemplate="title">Step 1: Select Date</ng-template>
    <p-calendar [(ngModel)]="date" (onSelect)="onDateChange($event)"></p-calendar>
    <div *ngIf="capacityInfo" class="p-mt-2 badge info">
      {{ 'public.serviceBooking.remaining' | transloco }}: {{ capacityInfo.remaining }} / {{ capacityInfo.capacity }}
    </div>
  </p-card>

  <p-card>
    <ng-template pTemplate="title">Step 2: Your Info</ng-template>
    <div class="p-fluid p-formgrid p-grid">
      <div class="p-field p-col-12 p-md-6">
        <label>{{ 'public.renter.name' | transloco }}</label>
        <input pInputText [(ngModel)]="form.name" placeholder="Full name" />
      </div>
      <div class="p-field p-col-12 p-md-6">
        <label>{{ 'public.renter.phone' | transloco }}</label>
        <input pInputText [(ngModel)]="form.phone" placeholder="Phone" />
      </div>
      <div class="p-field p-col-12">
        <label>{{ 'public.serviceBooking.description' | transloco }}</label>
        <textarea pInputTextarea rows="3" [(ngModel)]="form.description" placeholder="What do you need help with?"></textarea>
      </div>
    </div>
    <button pButton type="button" label="{{ 'public.cta.submit' | transloco }}" (click)="submit()"></button>
    <p *ngIf="message" class="p-mt-2 badge success">{{ message }}</p>
  </p-card>
</div>
